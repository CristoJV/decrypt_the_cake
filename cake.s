/* ASSEMBLE & LINK


                          (             )
                  )      (*)           (*)      (
                 (*)      |             |      (*)
                  |      |~|           |~|      |
                 |~|     | |           | |     |~|
                 | |     | |           | |     | |
                ,| |a@@@@| |@@@@@@@@@@@| |@@@@a| |.
           .,a@@@| |@@@@@| |@@@@@@@@@@@| |@@@@@| |@@@@a,.
         ,a@@@@@@| |@@@@@@@@@@@@.@@@@@@@@@@@@@@| |@@@@@@@a,
        a@@@@@@@@@@@@@@@@@@@@@' . `@@@@@@@@@@@@@@@@@@@@@@@@a
        ;`@@@@@@@@@@@@@@@@@@'   .   `@@@@@@@@@@@@@@@@@@@@@';
        ;@@@`@@@@@@@@@@@@@'     .     `@@@@@@@@@@@@@@@@'@@@;
        ;@@@;,.aaaaaaaaaa       .       aaaaa,,aaaaaaa,;@@@;
        ;;@;;;;@@@@@@@@;@      @.@      ;@@@;;;@@@@@@;;;;@@;
        ;;;;;;;@@@@;@@;;@    @@ . @@    ;;@;;;;@@;@@@;;;;;;;
        ;;;;;;;;@@;;;;;;;  @@   .   @@  ;;;;;;;;;;;@@;;;;@;;
        ;;;;;;;;;;;;;;;;;@@     .     @@;;;;;;;;;;;;;;;;@@@;
    ,%%%;;;;;;;;@;;;;;;;;       .       ;;;;;;;;;;;;;;;;@@;;%%%,
 .%%%%%%;;;;;;;@@;;;;;;;;     ,%%%,     ;;;;;;;;;;;;;;;;;;;;%%%%%%,
.%%%%%%%;;;;;;;@@;;;;;;;;   ,%%%%%%%,   ;;;;;;;;;;;;;;;;;;;;%%%%%%%,
%%%%%%%%`;;;;;;;;;;;;;;;;  %%%%%%%%%%%  ;;;;;;;;;;;;;;;;;;;'%%%%%%%%
%%%%%%%%%%%%`;;;;;;;;;;;;,%%%%%%%%%%%%%,;;;;;;;;;;;;;;;'%%%%%%%%%%%%
`%%%%%%%%%%%%%%%%%,,,,,,,%%%%%%%%%%%%%%%,,,,,,,%%%%%%%%%%%%%%%%%%%%'
  `%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%'
      `%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%'
             """"""""""""""`,,,,,,,,,'"""""""""""""""""
                            `%%%%%%%'
                             `%%%%%'
                               %%%
                              %%%%%
                           .,%%%%%%%,.
                      ,%%%%%%%%%%%%%%%%%%%
*/

        .section .data

encoded:
        .byte 0x42, 0x0B, 0x2C, 0x31, 0x36, 0x30, 0x78, 0x62, 0x0F, 0x27, 0x2C
        .byte 0x31, 0x23, 0x28, 0x27, 0x62, 0x01, 0x2B, 0x24, 0x30, 0x23, 0x26
        .byte 0x2D, 0x62, 0x6F, 0x7C, 0x62, 0x01, 0x23, 0x2F, 0x20, 0x2B, 0x23
        .byte 0x62, 0x2E, 0x23, 0x62, 0x21, 0x2E, 0x23, 0x34, 0x27, 0x6C, 0x62
        .byte 0x12, 0x2B, 0x31, 0x36, 0x23, 0x78, 0x62, 0x17, 0x31, 0x23, 0x62
        .byte 0x36, 0x37, 0x62, 0x27, 0x26, 0x23, 0x26, 0x6C, 0x48, 0x29, 0x29
        .byte 0x65, 0x46, 0x4F, 0x4A, 0x40, 0x4A, 0x47, 0x42, 0x47, 0x46, 0x50
        .byte 0x03, 0x72, 0x76, 0x6A, 0x72, 0x76, 0x66, 0x02, 0x29

encoded_len = . - encoded

        .section .text
        .global _start

_start:
        mov     x0, #1
        ldr     x1, =encoded
        ldr     x2, =encoded_len
        ldrb    w3, [x1]
        add     x1, x1, #1
        sub     x2, x2, #1
        mov     x4, #0

decrypt:
        cmp     x4, x2
        b.ge    show
        ldrb    w5, [x1, x4]
        eor     w5, w5, w3
        strb    w5, [x1, x4]
        add     x4, x4, #1
        b       decrypt

show:
        mov     x8, #64
        svc     #0
        mov     x0, #0
        mov     x8, #93
        svc     #0
